{% extends "base.html" %}

{% block title %}
Login
{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
{% endblock %}

{% block content %}
<section class="register">
    <div class="container">
        <div class="collumn">
            <form action="{{ url_for('login') }}" method="POST">  <!-- Added method for form submission -->
                {{ form.hidden_tag() }}  <!-- Add this line for CSRF token -->
                <h2>Login</h2>
                <span class="required">*required.</span>
                
                <!-- Display flash messages for login errors -->
                {% for message in get_flashed_messages(with_categories=True) %}
                    <div class="alert alert-{{ message[0] }}">
                        {{ message[1] }}
                    </div>
                {% endfor %}
                
                <div class="form-group">
                    {{ form.email(class_='form-control', placeholder='Email') }}
                </div>
                <span class="required">*required.</span>
                <div class="form-group">
                    {{ form.password(class_='form-control', placeholder='Password') }}
                </div>
                
                <div class="buttons">
                    <button type="submit" class="blob-btn">
                        Log In
                        <span class="blob-btn__inner">
                            <span class="blob-btn__blobs">
                                <span class="blob-btn__blob"></span>
                                <span class="blob-btn__blob"></span>
                                <span class="blob-btn__blob"></span>
                                <span class="blob-btn__blob"></span>
                            </span>
                        </span>
                    </button>
                    <br/>
                    <svg xmlns="http://www.w3.org/2000/svg" version="1.1">
                        <defs>
                            <filter id="goo">
                                <feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10"></feGaussianBlur>
                                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 21 -7" result="goo"></feColorMatrix>
                                <feBlend in2="goo" in="SourceGraphic" result="mix"></feBlend>
                            </filter>
                        </defs>
                    </svg>
                </div>
            </form>
        </div>
    </div>
</section>
{% endblock %}
